<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Scientific contributions | Detecting life-threatening patterns in Point-of-care ECG using efficient memory and processor power</title>
  <meta name="description" content="This thesis is about low-power devices and ECG" />
  <meta name="generator" content="bookdown 0.24.4 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Scientific contributions | Detecting life-threatening patterns in Point-of-care ECG using efficient memory and processor power" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://franzbischoff.github.io/false.alarm/thesis/" />
  <meta property="og:image" content="https://franzbischoff.github.io/false.alarm/thesis//figure/FullSetup.jpg" />
  <meta property="og:description" content="This thesis is about low-power devices and ECG" />
  <meta name="github-repo" content="franzbischoff/false.alarm" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Scientific contributions | Detecting life-threatening patterns in Point-of-care ECG using efficient memory and processor power" />
  
  <meta name="twitter:description" content="This thesis is about low-power devices and ECG" />
  <meta name="twitter:image" content="https://franzbischoff.github.io/false.alarm/thesis//figure/FullSetup.jpg" />

<meta name="author" content="Francisco Bischoff" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="favicon.ico" />
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="prev" href="current-results.html"/>
<link rel="next" href="scientific-outcomes.html"/>
<script src="libs/header-attrs-2.11.13/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />



<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/toc.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li>
  <a href='https://franzbischoff.github.io/false.alarm/'>Back to the workflow</a>
</li>

<li class="divider"></li>
<li><a href="introduction.html#introduction">Introduction<span></span></a></li>
<li class="chapter" data-level="1" data-path="objectives-and-the-research-question.html"><a href="objectives-and-the-research-question.html"><i class="fa fa-check"></i><b>1</b> Objectives and the research question<span></span></a></li>
<li class="chapter" data-level="2" data-path="principles.html"><a href="principles.html"><i class="fa fa-check"></i><b>2</b> Principles<span></span></a></li>
<li class="chapter" data-level="3" data-path="materials-and-methods.html"><a href="materials-and-methods.html"><i class="fa fa-check"></i><b>3</b> Materials and methods<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="materials-and-methods.html"><a href="materials-and-methods.html#softwares"><i class="fa fa-check"></i><b>3.1</b> Softwares<span></span></a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="materials-and-methods.html"><a href="materials-and-methods.html#pipeline-management"><i class="fa fa-check"></i><b>3.1.1</b> Pipeline management<span></span></a></li>
<li class="chapter" data-level="3.1.2" data-path="materials-and-methods.html"><a href="materials-and-methods.html#reports-management"><i class="fa fa-check"></i><b>3.1.2</b> Reports management<span></span></a></li>
<li class="chapter" data-level="3.1.3" data-path="materials-and-methods.html"><a href="materials-and-methods.html#modeling-and-parameter-tuning"><i class="fa fa-check"></i><b>3.1.3</b> Modeling and parameter tuning<span></span></a></li>
<li class="chapter" data-level="3.1.4" data-path="materials-and-methods.html"><a href="materials-and-methods.html#continuous-integration"><i class="fa fa-check"></i><b>3.1.4</b> Continuous integration<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="materials-and-methods.html"><a href="materials-and-methods.html#developed-software"><i class="fa fa-check"></i><b>3.2</b> Developed software<span></span></a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="materials-and-methods.html"><a href="materials-and-methods.html#matrixprofile"><i class="fa fa-check"></i><b>3.2.1</b> Matrix Profile<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="materials-and-methods.html"><a href="materials-and-methods.html#the-data"><i class="fa fa-check"></i><b>3.3</b> The data<span></span></a></li>
<li class="chapter" data-level="3.4" data-path="materials-and-methods.html"><a href="materials-and-methods.html#work-structure"><i class="fa fa-check"></i><b>3.4</b> Work structure<span></span></a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="materials-and-methods.html"><a href="materials-and-methods.html#project-start"><i class="fa fa-check"></i><b>3.4.1</b> Project start<span></span></a></li>
<li class="chapter" data-level="3.4.2" data-path="materials-and-methods.html"><a href="materials-and-methods.html#raw-data"><i class="fa fa-check"></i><b>3.4.2</b> RAW data<span></span></a></li>
<li class="chapter" data-level="3.4.3" data-path="materials-and-methods.html"><a href="materials-and-methods.html#preparing-the-data"><i class="fa fa-check"></i><b>3.4.3</b> Preparing the data<span></span></a></li>
<li class="chapter" data-level="3.4.4" data-path="materials-and-methods.html"><a href="materials-and-methods.html#detecting-regime-changes"><i class="fa fa-check"></i><b>3.4.4</b> Detecting regime changes<span></span></a></li>
<li class="chapter" data-level="3.4.5" data-path="materials-and-methods.html"><a href="materials-and-methods.html#classregime"><i class="fa fa-check"></i><b>3.4.5</b> Classification of the new regime<span></span></a></li>
<li class="chapter" data-level="3.4.6" data-path="materials-and-methods.html"><a href="materials-and-methods.html#summary-of-the-methodology"><i class="fa fa-check"></i><b>3.4.6</b> Summary of the methodology<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="materials-and-methods.html"><a href="materials-and-methods.html#evaluation"><i class="fa fa-check"></i><b>3.5</b> Evaluation of the algorithms<span></span></a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="materials-and-methods.html"><a href="materials-and-methods.html#regime-change"><i class="fa fa-check"></i><b>3.5.1</b> Regime change<span></span></a></li>
<li class="chapter" data-level="3.5.2" data-path="materials-and-methods.html"><a href="materials-and-methods.html#classification"><i class="fa fa-check"></i><b>3.5.2</b> Classification<span></span></a></li>
<li class="chapter" data-level="3.5.3" data-path="materials-and-methods.html"><a href="materials-and-methods.html#full-model-streaming-setting"><i class="fa fa-check"></i><b>3.5.3</b> Full model (streaming setting)<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="current-results.html"><a href="current-results.html"><i class="fa fa-check"></i><b>4</b> Current results<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="current-results.html"><a href="current-results.html#regime-change-detection"><i class="fa fa-check"></i><b>4.1</b> Regime change detection<span></span></a></li>
<li class="chapter" data-level="4.2" data-path="current-results.html"><a href="current-results.html#classification-1"><i class="fa fa-check"></i><b>4.2</b> Classification<span></span></a></li>
<li class="chapter" data-level="4.3" data-path="current-results.html"><a href="current-results.html#feasibility-trial"><i class="fa fa-check"></i><b>4.3</b> Feasibility trial<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="scientific-contributions.html"><a href="scientific-contributions.html"><i class="fa fa-check"></i><b>5</b> Scientific contributions<span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="scientific-contributions.html"><a href="scientific-contributions.html#matrix-profile"><i class="fa fa-check"></i><b>5.1</b> Matrix Profile<span></span></a></li>
<li class="chapter" data-level="5.2" data-path="scientific-contributions.html"><a href="scientific-contributions.html#regime-change-detection-1"><i class="fa fa-check"></i><b>5.2</b> Regime change detection<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="scientific-outcomes.html"><a href="scientific-outcomes.html"><i class="fa fa-check"></i><b>6</b> Scientific outcomes<span></span></a></li>
<li><a href="conclusion.html#conclusion">Conclusion<span></span></a></li>
<li class="appendix"><span><b>Appendix<span></span></b></span></li>
<li class="chapter" data-level="A" data-path="the-first-appendix.html"><a href="the-first-appendix.html"><i class="fa fa-check"></i><b>A</b> The First Appendix<span></span></a></li>
<li class="chapter" data-level="B" data-path="the-second-appendix-for-fun.html"><a href="the-second-appendix-for-fun.html"><i class="fa fa-check"></i><b>B</b> The Second Appendix, for Fun<span></span></a></li>
<li><a href="references.html#references">References<span></span></a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Detecting life-threatening patterns in Point-of-care ECG using efficient memory and processor power</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="scientific-contributions" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">5</span> Scientific contributions<a href="scientific-contributions.html#scientific-contributions" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="matrix-profile" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Matrix Profile<a href="scientific-contributions.html#matrix-profile" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Since the first paper presenting this new concept<span class="citation"><sup><a href="references.html#ref-Yeh2017a" role="doc-biblioref">22</a></sup></span>, lots of investigations were made to
speed up its computation. It is notable how all computations are not dependent on the <em>rolling
window size</em> as previous works not using Matrix Profile. Aside from this, we can see that the first
STAMP<span class="citation"><sup><a href="references.html#ref-Yeh2017a" role="doc-biblioref">22</a></sup></span> algorithm has the time complexity of <span class="math inline">\(O(n^2log{n})\)</span> while STOMP<span class="citation"><sup><a href="references.html#ref-zhu2016" role="doc-biblioref">64</a></sup></span>
<span class="math inline">\(O(n^2)\)</span> (a significant improvement), but STOMP lacks the “any-time” property. Later SCRIMP<span class="citation"><sup><a href="references.html#ref-zhu2018" role="doc-biblioref">65</a></sup></span> solves this problem keeping the same time complexity of <span class="math inline">\(O(n^2)\)</span>. Here we are in the
“exact” algorithms domain and we will not extend the scope for conciseness.</p>
<p>The main issue with the algorithms above is the dependency on a fast Fourier transform (FFT)
library. FFT has been extensively optimized and architecture/CPU bounded to exploit the most of
speed. Also, padding data to some power of 2 happens to increase the efficiency of the
algorithm. We can argue that time complexity doesn’t mean “faster” when we can exploit low-level
instructions. In our case, using FFT in a low-power device is overkilling. For example, a quick
search over the internet gives us a hint that computing FFT on a 4096 data in an ESP32 takes
about 21ms (~47 computations in 1 second). This means ~79 seconds for computing all FFT’s
(~3797) required for STAMP using a window of 300. Currently, we can compute a full matrix of 5k
data in about 9 seconds in an ESP32 MCU (Fig. <a href="current-results.html#fig:esp32">4.3</a>), and keep updating it as fast as
1 min of data (at 250hz) in just 6 seconds.</p>
<p>Recent works using <em>exact</em> algorithms are using an unpublished algorithm called <strong>MPX</strong>, which
computes the Matrix Profile using cross-correlation methods ending up faster and is easily
portable.</p>
<p><strong>On computing the Matrix Profile:</strong> the contribution of this work on this area is adding the
<em>Online</em> capability to MPX, which means we can update the Matrix Profile as new data comes in.</p>
<p><strong>On extending the Matrix Profile:</strong> the contribution of this work on this area is the use of an
unexplored constraint that we could apply on building the Matrix Profile we are calling <em>Similarity
Threshold</em> (ST). The original work outputs the similarity values in Euclidean Distance (ED) values,
while MPX naturally outputs the values in Pearson’s correlation coefficients (CC). Both ED and CC
are interchangeable using the equation <a href="scientific-contributions.html#eq:edcc">(5.1)</a>. However, we may argue that it is easier to
compare values that do not depend on the window size during an exploratory phase. MPX happens to
naturally return values in CC, saving a few more computation time. The ST is an interesting factor
that we can use, especially when detecting pattern changes during time. The FLOSS algorithm relies
on counting references between indexes in the time series. ST can help remove “noise” from these
references since only similar patterns above a certain threshold are referenced, and changes have
more impact on these counts. The best ST threshold is still to be determined.</p>
<p><br />
<span class="math display" id="eq:edcc">\[\begin{equation}
CC = 1 - \frac{ED}{(2 \times WindowSize)} \tag{5.1}
\end{equation}\]</span><br />
</p>
</div>
<div id="regime-change-detection-1" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Regime change detection<a href="scientific-contributions.html#regime-change-detection-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In the original paper, in chapter 3.5, the authors of FLOSS wisely introduce the <strong>temporal
constraint</strong>, which improves the sensitivity of regime change detection on situations where
a regime may alternate in short periods of time.</p>
<p>Nevertheless, the authors declare the correction curve typically used on the algorithm as “simply a
uniform distribution”, but this is not an accurate statement. the <em>Arc Counts</em> of newly incoming
data are truncated by the same amount of temporal constraint. This prevents completely the detection
of a regime change in the last 10 seconds as this thesis requires.</p>
<p>The main contribution of this work on this area is overcoming this issue by computing the
theoretical distribution using the temporal constraint parameters beforehand. as shown in Fig.
<a href="scientific-contributions.html#fig:distributions">5.1</a>. That gives us enough data to evaluate a regime change accurately utilizing
a minimum of <span class="math inline">\(2 \times WindowSize\)</span> datapoints.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:distributions"></span>
<img src="thesis_files/figure-html/distributions-1.svg" alt="1D-IAC distributions for earlier temporal constraint (on Matrix Profile)" width="960" />
<p class="caption">
FIGURE 5.1: 1D-IAC distributions for earlier temporal constraint (on Matrix Profile)
</p>
</div>

<!--
This is for including Chapter 1. Notice that it's also good practice to name your chunk. This will
help you debug potential issues as you knit. The chunk above is called intro and the one below is
called chapter1. Feel free to change the name of the Rmd file as you wish, but don't forget to
change it here from chap1.Rmd.
-->
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="current-results.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="scientific-outcomes.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "github", "whatsapp", "instapaper", "weibo", "vk"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": [["thesis.pdf", "PDF"], ["thesis.epub", "EPUB"], ["thesis.docx", "Word"]],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "none",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"info": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
